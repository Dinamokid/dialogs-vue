(function(t){function e(e){for(var s,o,r=e[0],c=e[1],l=e[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,r=1;r<a.length;r++){var c=a[r];0!==i[c]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},i={app:0},n=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1e50":function(t,e,a){"use strict";var s=a("8363"),i=a.n(s);i.a},"30fd":function(t,e,a){},"33fd":function(t,e,a){"use strict";var s=a("fed5"),i=a.n(s);i.a},"560a":function(t,e,a){"use strict";var s=a("8c3e"),i=a.n(s);i.a},"56d7":function(t,e,a){"use strict";a.r(e),a.d(e,"bus",(function(){return tt}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=a("2f62"),n=(a("4de4"),a("fb6a"),a("96cf"),a("1da1")),o={actions:{fetchMessages:function(t){return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.commit,s=[{id:0,dialogId:0,text:"Ку",time:"20:20",authorAvatar:"https://picsum.photos/seed/1/400",authorName:"Aleksandr"},{id:1,dialogId:0,text:"Ку!",time:"20:21",authorAvatar:"https://picsum.photos/seed/2/400",authorName:"Savelii"},{id:2,dialogId:1,text:"hi",time:"22:20",authorAvatar:"https://picsum.photos/seed/1/400",authorName:"Aleksandr"},{id:3,dialogId:1,text:"hi!",time:"13:21",authorAvatar:"https://picsum.photos/seed/3/400",authorName:"Sergey"}],a("updateMessages",s);case 3:case"end":return e.stop()}}),e)})))()},addMessage:function(t,e){return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:s=t.commit,s("addMessage",e);case 2:case"end":return a.stop()}}),a)})))()}},mutations:{updateMessages:function(t,e){t.messages=e},addMessage:function(t,e){console.log("произошло дополнение"),t.messages.push(e)}},state:{messages:[]},getters:{getMessagesFromDialog:function(t){return function(e){return t.messages.filter((function(t){return t.dialogId==e}))}},messagesCount:function(t){return t.messages.length},getLastMessageByDialogId:function(t){return function(e){return t.messages.filter((function(t){return t.dialogId==e})).slice(-1)[0]}}},strict:!1},r=(a("c975"),a("d81d"),a("a434"),{actions:{fetchDialogs:function(t){return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.commit,s=[{id:0,dialogName:"Savelii",dialogAvatar:"https://picsum.photos/seed/2/400",date:"20 May 2020",message:"Lorem ipsum dolor sit Lorem ipsum dolor sit Lorem ipsum dolor sit Lorem ipsum dolor sit Lorem ipsum dolor sit Lorem ipsum dolor sit Lorem ipsum dolor sit ",lastAuthorAvatar:"https://picsum.photos/seed/2/400"},{id:1,dialogName:"Sergey",dialogAvatar:"https://picsum.photos/seed/3/400",date:"21 May 2020",message:"Lorem ipsum dolor sit Lorem ipsum dolor sit Lorem ipsum dolor sit Lorem ipsum dolor sit Lorem ipsum dolor sit Lorem ipsum dolor sit Lorem ipsum dolor sit ",lastAuthorAvatar:"https://picsum.photos/seed/3/400"}],a("updateDialogs",s);case 3:case"end":return e.stop()}}),e)})))()},removeDialog:function(t,e){var a=t.commit;a("removeDialog",e)}},mutations:{updateDialogs:function(t,e){t.dialogs=e},addDialog:function(t,e){t.dialogs.push(e)},removeDialog:function(t,e){var a=t.dialogs.map((function(t){return t.id})).indexOf(e);t.dialogs.splice(a,1)}},state:{dialogs:[]},getters:{allDialogs:function(t){return t.dialogs},dialogsLenght:function(t){return t.dialogs.lenght}},strict:!1});s["a"].use(i["a"]);var c=new i["a"].Store({modules:{Message:o,Dialog:r}}),l=a("8c4f"),u=(a("4989"),a("ab8b"),a("15f5"),a("7051"),a("54ba"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Layout")],1)}),d=[],m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row m-0"},[a("div",{staticClass:"col-md-2",attrs:{id:"side-menu"}},[t._m(0),a("ul",[a("li",{staticClass:"m-0"},[a("router-link",{attrs:{to:"/Index"}},[t._v("Home")])],1),a("li",[a("router-link",{attrs:{to:"/Dialogs"}},[t._v("Dialogs")])],1)]),t._m(1)]),a("div",{staticClass:"col-md-10"},[a("div",{staticClass:"container"},[a("router-view")],1)])])},p=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-center align-items-center w-100 text-white",staticStyle:{"min-height":"100px"}},[a("p",{staticClass:"text-center mb-0"},[t._v(" Dinamokid's "),a("br"),t._v("Chat ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"position-absolute",staticStyle:{bottom:"0",right:"0",left:"0"}},[a("p",{staticClass:"text-white text-center small"},[t._v("From Dinamokid to Dinamokid")])])}],g=a("5530"),f={name:"Layout",mounted:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"/"==t.$route.fullPath&&t.$router.push("Index"),t.fetchMessages(),t.fetchDialogs();case 3:case"end":return e.stop()}}),e)})))()},methods:Object(g["a"])({},Object(i["b"])(["fetchMessages","fetchDialogs"]))},h=f,v=(a("c109"),a("2877")),b=Object(v["a"])(h,m,p,!1,null,null,null),x=b.exports,_={name:"App",components:{Layout:x}},y=_,O=Object(v["a"])(y,u,d,!1,null,null,null),j=O.exports,w=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},D=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-4"},[a("h1",[t._v("Home page")]),a("p",[t._v(" Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic minima numquam nemo, delectus alias eveniet perspiciatis repellendus accusantium velit rerum accusamus amet sunt aspernatur? Quasi, at ab. Repellendus, mollitia a. ")])])}],C={name:"Index"},M=C,k=Object(v["a"])(M,w,D,!1,null,null,null),L=k.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-4"},[a("h1",[t._v("All dialogs")]),a("div",{staticClass:"col-md-12 mt-4 p-0"},[a("div",{staticClass:"mb-2"},t._l(t.allDialogs,(function(t){return a("div",{key:t.id},[a("DialogItem",{attrs:{dialog:t,index:t.id}})],1)})),0)])])},I=[],S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"position-relative dialogItem"},[a("div",{on:{click:function(e){return t.openDialog()}}},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"mt-2 pl-0"},[a("div",{staticStyle:{"background-size":"cover","background-position":"center",width:"70px",height:"70px","border-radius":"100%"},style:{backgroundImage:"url("+t.dialog.dialogAvatar+")"}})]),a("div",{staticClass:"ml-3 w-100"},[a("div",{staticClass:"d-flex"},[a("b",{staticClass:"w-100"},[t._v(t._s(t.dialog.dialogName))]),a("div",{staticClass:"mr-3 text-nowrap"},[t._v(t._s(t.dialog.date))])]),a("div",{staticClass:"d-flex pt-2 align-items-center"},[a("div",{staticStyle:{"background-position":"center","min-width":"40px","min-height":"40px","border-radius":"100%"},style:{backgroundImage:"url("+t.message.authorAvatar+")"}}),a("p",{staticClass:"m-0 ml-2",staticStyle:{height:"26px",overflow:"hidden"}},[t._v(t._s(t.message.text))])])])])]),a("div",{staticClass:"position-absolute delete",staticStyle:{top:"0",right:"-10px",cursor:"pointer"},on:{click:function(e){return t.removeDialog(t.index)}}},[a("i",{staticClass:"fas fa-times"})])])},$=[],N=(a("a9e3"),{name:"DialogItem",props:{dialog:Object,index:Number},computed:Object(g["a"])(Object(g["a"])({},Object(i["c"])(["getLastMessageByDialogId"])),{},{message:{get:function(){return this.getLastMessageByDialogId(this.index)}}}),methods:Object(g["a"])(Object(g["a"])({},Object(i["b"])(["removeDialog"])),{},{openDialog:function(){this.$router.push({path:"/Dialog/".concat(this.index)})}})}),E=N,P=(a("1e50"),Object(v["a"])(E,S,$,!1,null,"50fcd5e7",null)),R=P.exports,F={name:"DialogList",components:{DialogItem:R},computed:Object(i["c"])(["allDialogs"]),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(i["b"])(["removeDialog"])),Object(i["c"])(["dialogsLenght"])),{},{addDialog:function(t,e,a,s,i){this.addDialog({id:this.dialogsLenght,dialogName:t,date:e,message:a,dialogAvatar:s,lastAuthorAvatar:i})}})},H=F,B=Object(v["a"])(H,A,I,!1,null,null,null),T=B.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"position-relative",staticStyle:{height:"100vh"}},[a("div",{attrs:{id:"chat-list"}},t._l(t.messages,(function(t){return a("div",{key:t.id},[a("Message",{attrs:{message:t,index:t.id}})],1)})),0),a("div",{staticClass:"position-absolute",staticStyle:{bottom:"0",left:"0",right:"0"}},[a("div",{staticClass:"d-flex justify-content-center pb-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"w-50",attrs:{type:"text"},domProps:{value:t.input},on:{input:function(e){e.target.composing||(t.input=e.target.value)}}}),a("button",{staticClass:"ml-2 btn btn-dark",on:{click:function(e){return t.addMessage(t.input)}}},[t._v("Send")])])])])},J=[],q=(a("99af"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message py-3"},[a("div",{staticClass:"container"},[a("div",{staticClass:"d-flex align-items-center"},[a("div",[a("div",{staticStyle:{"background-size":"cover","background-position":"center",width:"50px",height:"50px","border-radius":"100%"},style:{backgroundImage:"url("+t.message.authorAvatar+")"}})]),a("div",{staticClass:"ml-3"},[a("div",[a("span",{staticClass:"bold mr-1"},[t._v(t._s(t.message.authorName))]),t._v(" "+t._s(t.message.time)+" ")]),a("div",[t._v(t._s(t.message.text))])])])])])}),Q=[],G={name:"Message",props:{message:Object,index:Number}},K=G,U=(a("560a"),Object(v["a"])(K,q,Q,!1,null,null,null)),V=U.exports,W={name:"Dialog",props:["id"],data:function(){return{input:""}},components:{Message:V},computed:Object(g["a"])(Object(g["a"])({},Object(i["c"])(["getMessagesFromDialog"])),{},{messages:{get:function(){return this.getMessagesFromDialog(this.id)}}}),methods:Object(g["a"])(Object(g["a"])(Object(g["a"])({},Object(i["b"])(["addMessage"])),Object(i["c"])(["messagesCount"])),{},{addMessage:function(t){var e=new Date;this.$store.dispatch("addMessage",{id:this.messagesCount(),text:t,dialogId:this.id,time:"".concat(e.getHours(),":").concat(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes()),authorAvatar:"https://picsum.photos/seed/1/400",authorName:"Aleksandr"}),this.input=""}})},X=W,Y=(a("33fd"),Object(v["a"])(X,z,J,!1,null,null,null)),Z=Y.exports,tt=new s["a"],et=[{path:"/Index",component:L},{path:"/Dialogs",component:T},{path:"/Dialog/:id",component:Z,props:!0}],at=new l["a"]({mode:"history",routes:et});s["a"].use(l["a"]),s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(j)},router:at,store:c}).$mount("#app")},8363:function(t,e,a){},"8c3e":function(t,e,a){},c109:function(t,e,a){"use strict";var s=a("30fd"),i=a.n(s);i.a},fed5:function(t,e,a){}});
//# sourceMappingURL=app.c352d375.js.map